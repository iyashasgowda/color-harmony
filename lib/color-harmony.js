"use strict";const{hsv2rgb,rgb2hsv}=require("./utils");class Harmony{constructor(r){this.rgb=r}complement(){let r=rgb2hsv(this.rgb);for(r.h+=180;360<=r.h;)r.h-=360;for(;r.h<0;)r.h+=360;return[hsv2rgb(r)]}splitComplement(){let r=rgb2hsv(this.rgb),h=rgb2hsv(this.rgb);for(r.h+=150;360<=r.h;)r.h-=360;for(;r.h<0;)r.h+=360;for(h.h+=210;360<=h.h;)h.h-=360;for(;h.h<0;)h.h+=360;return[hsv2rgb(r),hsv2rgb(h)]}analogous(){let r=rgb2hsv(this.rgb),h=rgb2hsv(this.rgb);for(r.h+=30;360<=r.h;)r.h-=360;for(;r.h<0;)r.h+=360;for(h.h+=60;360<=h.h;)h.h-=360;for(;h.h<0;)h.h+=360;return[hsv2rgb(r),hsv2rgb(h)]}triadic(){let r=rgb2hsv(this.rgb),h=rgb2hsv(this.rgb);for(r.h+=120;360<=r.h;)r.h-=360;for(;r.h<0;)r.h+=360;for(h.h+=240;360<=h.h;)h.h-=360;for(;h.h<0;)h.h+=360;return[hsv2rgb(r),hsv2rgb(h)]}tetradic(){let r=rgb2hsv(this.rgb),h=rgb2hsv(this.rgb),s=rgb2hsv(this.rgb);for(r.h+=90;360<=r.h;)r.h-=360;for(;r.h<0;)r.h+=360;for(h.h+=180;360<=h.h;)h.h-=360;for(;h.h<0;)h.h+=360;for(s.h+=270;360<=s.h;)s.h-=360;for(;s.h<0;)s.h+=360;return[hsv2rgb(r),hsv2rgb(h),hsv2rgb(s)]}}module.exports=Harmony;const rgb2hsv=r=>{let h={};var s=r.r>r.g?r.r>r.b?r.r:r.b:r.g>r.b?r.g:r.b,b=s-(r.r<r.g?r.r<r.b?r.r:r.b:r.g<r.b?r.g:r.b);return h.s=0===s?0:100*b/s,0===h.s?h.h=0:r.r===s?h.h=60*(r.g-r.b)/b:r.g===s?h.h=120+60*(r.b-r.r)/b:r.b===s&&(h.h=240+60*(r.r-r.g)/b),h.h<0&&(h.h+=360),h.v=Math.round(100*s/255),h.h=Math.round(h.h),h.s=Math.round(h.s),h},hsv2rgb=r=>{let h={};if(0===r.s)h.r=h.g=h.b=Math.round(2.55*r.v);else{r.h/=60,r.s/=100,r.v/=100;var s=Math.floor(r.h),b=r.h-s,g=r.v*(1-r.s),t=r.v*(1-r.s*b),o=r.v*(1-r.s*(1-b));switch(s){case 0:h.r=r.v,h.g=o,h.b=g;break;case 1:h.r=t,h.g=r.v,h.b=g;break;case 2:h.r=g,h.g=r.v,h.b=o;break;case 3:h.r=g,h.g=t,h.b=r.v;break;case 4:h.r=o,h.g=g,h.b=r.v;break;default:h.r=r.v,h.g=g,h.b=t}h.r=Math.round(255*h.r),h.g=Math.round(255*h.g),h.b=Math.round(255*h.b)}return h};module.exports={rgb2hsv:rgb2hsv,hsv2rgb:hsv2rgb};